{"version":3,"sources":["actions/blogActions.js","Components/BlogArticle/Article.js"],"names":["fetchPosts","dispatch","a","axios","get","fetchData","console","log","data","type","FETCH_POSTS","payload","fetchLatest","FETCH_LATEST","fetchArticle","param","find","item","heading","article","FETCH_ARTICLE","fetchRecent","slice","FETCH_RECENT","ShareArticle","lazy","componentLoader","connect","state","posts","props","params","useParams","useState","loading","setLoading","prevRoute","setPrevRoute","useEffect","window","location","href","then","isEmpty","className","name","content","tag","style","background","image","date","quoteStart","quoteStartAuthor","intro","section","map","index","para","paragraph","quoteEnd","quoteEndAuthor","img"],"mappings":"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","file":"static/js/16.7f697a66.chunk.js","sourcesContent":["import { FETCH_POSTS, FETCH_LATEST, FETCH_ARTICLE, FETCH_RECENT } from \"../actions/types\";\nimport axios from \"axios\";\n\nexport const fetchPosts = () => async (dispatch) => {\n\tconst fetchData = await axios.get(\"/api\");\n\tconsole.log(fetchData.data);\n\treturn dispatch({\n\t\ttype: FETCH_POSTS,\n\t\tpayload: fetchData.data,\n\t});\n\n\t// axios\n\t// \t.get(\"/api\")\n\t// \t// .get(\"/blog/articles.json\")\n\t// \t.then((res) => res.data)\n\t// \t.then((data) => {\n\t// \t\tconsole.log(data);\n\t// \t\tdispatch({\n\t// \t\t\ttype: FETCH_POSTS,\n\t// \t\t\tpayload: data,\n\t// \t\t});\n\t// \t})\n\t// \t.then(() => console.log(\"Fetched fromg MongoDB\"))\n\t// \t.catch((err) => console.log(err));\n};\n\nexport const fetchLatest = () => async (dispatch) => {\n\tconst fetchData = await axios.get(\"/api\");\n\tconsole.log(fetchData.data[0]);\n\treturn dispatch({\n\t\ttype: FETCH_LATEST,\n\t\tpayload: fetchData.data[0],\n\t});\n\n\n\t// axios\n\t// \t.get(\"/api\")\n\t// \t// .get(\"/blog/articles.json\")\n\t// \t.then((res) => res.data)\n\t// \t.then((data) => {\n\t// \t\tdispatch({\n\t// \t\t\ttype: FETCH_LATEST,\n\t// \t\t\tpayload: data[0],\n\t// \t\t});\n\t// \t})\n\t// \t.then(() => console.log(\"Fetched fromg MongoDB\"))\n\t// \t.catch((err) => console.log(err));\n};\n\nexport const fetchArticle = (param) => async (dispatch) => {\n\tconst fetchData = await axios.get(\"/api\");\n\tconst article = await fetchData.data.find(item => item.heading === param);\n\treturn dispatch({\n\t\ttype: FETCH_ARTICLE,\n\t\tpayload: article,\n\t});\n\n\t// axios\n\t// \t.get(\"/api\")\n\t// \t// .get(\"/blog/articles.json\")\n\t// \t.then((res) => res.data)\n\t// \t.then((response) => {\n\t// \t\treturn response.find((item) => item.heading === param);\n\t// \t})\n\t// \t.then((data) => {\n\t// \t\tdispatch({\n\t// \t\t\ttype: FETCH_ARTICLE,\n\t// \t\t\tpayload: data,\n\t// \t\t});\n\t// \t})\n\t// \t.then(() => console.log(\"Fetched fromg MongoDB\"))\n\t// \t.catch((err) => console.log(err));\n};\n\nexport const fetchRecent = () => async (dispatch) => {\n\tconst fetchData = await axios.get(\"/api\");\n\tconsole.log(fetchData.data.slice(0,3));\n\treturn dispatch({\n\t\ttype: FETCH_RECENT,\n\t\tpayload: fetchData.data.slice(0,3),\n\t});\n\n\t// axios\n\t// \t.get(\"/api\")\n\t// \t// .get(\"/blog/articles.json\")\n\t// \t.then((res) => res.data)\n\t// \t.then((data) => {\n\t// \t\tdispatch({\n\t// \t\t\ttype: FETCH_RECENT,\n\t// \t\t\tpayload: data.slice(0, 3),\n\t// \t\t});\n\t// \t})\n\t// \t.then(() => console.log(\"Fetched fromg MongoDB\"))\n\t// \t.catch((err) => console.log(err));\n};\n","import React, { useEffect, useState, lazy } from \"react\";\nimport { Helmet, HelmetProvider } from \"react-helmet-async\";\nimport { connect } from \"react-redux\";\nimport { useParams } from \"react-router\";\nimport { fetchArticle } from \"../../actions/blogActions\";\nimport { isEmpty } from \"lodash\";\n\nimport componentLoader from \"../Reusable Components/componentLoader\";\n\nconst ShareArticle = lazy(() => componentLoader(() => import(\"./ShareArticle\")));\n\nconst Article = (props) => {\n\tlet params = useParams();\n\tconst [loading, setLoading] = useState(true);\n\tconst [prevRoute, setPrevRoute] = useState(\"\");\n\n\tuseEffect(() => {\n\t\tif (prevRoute && window.location.href !== prevRoute) {\n\t\t\tsetLoading(true);\n\t\t}\n\n\t\tif (loading) {\n\t\t\tsetPrevRoute(window.location.href);\n\t\t\tprops.fetchArticle(params.heading).then(() => setLoading(false));\n\t\t}\n\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [window.location.href, loading]);\n\n\tconst article = props.article;\n\treturn !loading && !isEmpty(article) ? (\n\t\t<HelmetProvider>\n\t\t\t<div className=\"container-fluid article px-0\">\n\t\t\t\t<Helmet>\n\t\t\t\t\t<title>{article.heading}</title>\n\t\t\t\t\t<meta name=\"description\" content={article.heading} />\n\t\t\t\t\t<meta name=\"author\" content=\"Joshua Oyeleke\" />\n\t\t\t\t\t<meta name=\"keywords\" content={`${article.heading}, ${article.tag}`} />\n\t\t\t\t</Helmet>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"banner\"\n\t\t\t\t\tstyle={{ background: `linear-gradient(rgba(0,0,0.2), rgba(0,0,0,0.2)), url(${article.image}) 15% 0%` }}\n\t\t\t\t>\n\t\t\t\t\t<div className=\"container d-flex flex-column justify-content-center align-items-center h-100 text-light\">\n\t\t\t\t\t\t<span className=\"text-uppercase mb-3\">{article.tag}</span>\n\t\t\t\t\t\t<h3 className=\"font-weight-bold text-center\">{article.heading}</h3>\n\t\t\t\t\t\t<span className=\"mt-2\">\n\t\t\t\t\t\t\t<i className=\"fa fa-clock-o\"></i> {article.date}\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\n\t\t\t\t<div className=\"container mt-5 mb-8 px-2 px-sm-auto\">\n\t\t\t\t\t<div className=\"row no-gutters\">\n\t\t\t\t\t\t<div className=\"w-100\">\n\t\t\t\t\t\t\t<div className=\"text-center mb-5\">\n\t\t\t\t\t\t\t\t<q className=\"lead\">{article.quoteStart}</q>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span>- {article.quoteStartAuthor}</span>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t<p>{article.intro}</p>\n\t\t\t\t\t\t\t{article.section.map((data, index) => (\n\t\t\t\t\t\t\t\t<div key={index} className=\"my-5\">\n\t\t\t\t\t\t\t\t\t<h4 className=\"font-weight-bold\">{data.heading}</h4>\n\t\t\t\t\t\t\t\t\t{data.para.map((paragraph, index) => (\n\t\t\t\t\t\t\t\t\t\t<p key={index}>{paragraph}</p>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t<div className=\"text-center mb-5\">\n\t\t\t\t\t\t\t\t<q className=\"lead\">{article.quoteEnd}</q>\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t<span>- {article.quoteEndAuthor}</span>\n\t\t\t\t\t\t\t</div>\n\n\t\t\t\t\t\t\t<ShareArticle tag={article.tag} heading={article.heading} img={article.image} intro={article.intro} />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</HelmetProvider>\n\t) : (\n\t\t// <div>Loaded</div>\n\t\t<div className=\"my-5 text-center lead\">Loading...</div>\n\t);\n};\n\nconst mapStateToProps = (state) => ({\n\tarticle: state.posts.article,\n});\n\nexport default connect(mapStateToProps, { fetchArticle })(Article);\n"],"sourceRoot":""}